(function(){const d=document.querySelector('#todayDate');if(d)d.textContent=new Date().toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'});fetch('data/members.json').then(r=>r.json()).then(data=>{const m=data.members||[];const mc=document.querySelector('#memberCount');const gc=document.querySelector('#goldCount');if(mc)mc.textContent=m.length.toString();if(gc){const p=m.filter(x=>(x.level||1)>=2);gc.textContent=p.length.toString();}inject(m);});function inject(m){const c=document.querySelector('#spotlights');if(!c)return;const p=m.filter(x=>(x.level||1)>=2);const pool=p.length>=2?p:m.slice();const picks=[];while(picks.length<2&&pool.length){const i=Math.floor(Math.random()*pool.length);picks.push(pool.splice(i,1)[0]);}picks.forEach(x=>{const card=document.createElement('article');card.className='spotlight';card.innerHTML=`<h3>${x.name}</h3><p>${x.address}</p><p><a href="${x.website}" target="_blank" rel="noopener">Visit website</a></p>`;c.appendChild(card);});}})();