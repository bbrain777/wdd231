const temp=document.querySelector('#current-temp');const icon=document.querySelector('#weather-icon');const cap=document.querySelector('#caption');const btn=document.querySelector('#useKey');const keyIn=document.querySelector('#apikey');const LAT=49.75,LON=6.64;let API_KEY='';btn.addEventListener('click',()=>{API_KEY=keyIn.value.trim();if(!API_KEY){alert('Enter your OpenWeatherMap API key');return;}apiFetch();});async function apiFetch(){const url=`https://api.openweathermap.org/data/2.5/weather?lat=${LAT}&lon=${LON}&units=metric&appid=${API_KEY}`;try{const response=await fetch(url);if(!response.ok){throw new Error(await response.text());}const data=await response.json();displayResults(data);}catch(err){console.error('Fetch error:',err);alert('API error. Check your key and try again.');}}function displayResults(data){const t=Math.round(data.main.temp);const desc=data.weather[0].description;const code=data.weather[0].icon;const iconUrl=`https://openweathermap.org/img/wn/${code}@2x.png`;temp.textContent=`${t} Â°C`;icon.src=iconUrl;icon.alt=desc;cap.textContent=desc.charAt(0).toUpperCase()+desc.slice(1);}